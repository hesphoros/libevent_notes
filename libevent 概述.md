libevent库为开发人员提供网络事件的处理框架，封装好事件处理的API，方便开发人员编写网络应用相关的程序，而不必从0开始写一个完整的网络事件库。

libevent使用事件驱动程序，libevent会把用户需要关注的事件保存，每个事件的对应的回调函数会在事件触发的时候调用，这样用户就能感知到事件发生，采取相应的措施。

libevent主要工作流程是提供一个event-loop的机制，保持程序一直运行，检测相应事件的触发；其大致伪流程如下：

检测是否有活动的事件

while 有活动的事件处理:

    获取当前需要的活动事件

 如果有事件对应的回调函数：

      调用回调函数
![](images/Pasted%20image%2020241207233733.png)
# 常见使用流程
![](images/Pasted%20image%2020241207234221.png)
- event_base_new
	- 申请libevent最关键的数据结构event_base;该数据结构主要保存了如下几个关键数据：
		- 网络IO事件
		- 时间事件
		- 信号事件
		- 活动的事件队列
		- 信号操作函数接口
		- IO操作函数接口
- event_new
	- 申请一